(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1260:function(e,t){},1261:function(e,t){},1262:function(e,t){},1430:function(e,t){},1440:function(e,t){},1441:function(e,t){},1442:function(e,t){},1457:function(e,t){},1465:function(e,t,n){"use strict";n.r(t);var a,r=n(2),c=n.n(r),i=n(132),o=n.n(i),s=(n(563),n(42)),u=n.n(s),l=n(107),p=n(0),f=n(1),m=n(5),h=n(3),v=n(6),d=(n(565),n(56)),C=d.Components.connectDictationInterims,b=d.Constants.DictateState,w=b.DICTATING,y=b.STARTING,k=C()(function(e){var t=e.className,n=e.dictateInterims,a=e.dictateState;return(a===y||a===w)&&!!n.length&&c.a.createElement("p",{className:t},n.map(function(e,t){return c.a.createElement("span",{key:t},e,"\xa0")}))}),L=n(18),E=n.n(L),g=function(e){var t=e.className,n=e.size,a=void 0===n?22:n;return c.a.createElement("svg",{className:(t||"")+"",height:a,viewBox:"0 0 58 58",width:a},c.a.createElement("path",{d:"M 44 28 C 43.448 28 43 28.447 43 29 L 43 35 C 43 42.72 36.72 49 29 49 C 21.28 49 15 42.72 15 35 L 15 29 C 15 28.447 14.552 28 14 28 C 13.448 28 13 28.447 13 29 L 13 35 C 13 43.485 19.644 50.429 28 50.949 L 28 56 L 23 56 C 22.448 56 22 56.447 22 57 C 22 57.553 22.448 58 23 58 L 35 58 C 35.552 58 36 57.553 36 57 C 36 56.447 35.552 56 35 56 L 30 56 L 30 50.949 C 38.356 50.429 45 43.484 45 35 L 45 29 C 45 28.447 44.552 28 44 28 Z"}),c.a.createElement("path",{d:"M 28.97 44.438 L 28.97 44.438 C 23.773 44.438 19.521 40.033 19.521 34.649 L 19.521 11.156 C 19.521 5.772 23.773 1.368 28.97 1.368 L 28.97 1.368 C 34.166 1.368 38.418 5.772 38.418 11.156 L 38.418 34.649 C 38.418 40.033 34.166 44.438 28.97 44.438 Z"}),c.a.createElement("path",{d:"M 29 46 C 35.065 46 40 41.065 40 35 L 40 11 C 40 4.935 35.065 0 29 0 C 22.935 0 18 4.935 18 11 L 18 35 C 18 41.065 22.935 46 29 46 Z M 20 11 C 20 6.037 24.038 2 29 2 C 33.962 2 38 6.037 38 11 L 38 35 C 38 39.963 33.962 44 29 44 C 24.038 44 20 39.963 20 35 L 20 11 Z"}))},S=(0,d.Components.connectMicrophoneButton)()(function(e){var t=e.className,n=e.click,a=e.dictating,r=e.disabled;return c.a.createElement("button",{className:E()(t,{dictating:a}),disabled:r,onClick:n},c.a.createElement(g,{size:"10vmin"}))}),j=3e5,x=0;function N(){return O.apply(this,arguments)}function O(){return(O=Object(l.a)(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return t=e.sent,n=t.region,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function A(){return D.apply(this,arguments)}function D(){return(D=Object(l.a)(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return t=e.sent,n=t.token,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(){return P.apply(this,arguments)}function P(){return(P=Object(l.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Date.now(),(!a||t-x>j)&&(a=fetch("https://webchat-mockbot.azurewebsites.net/speechservices/token",{method:"POST"}).then(function(e){return e.json()}).catch(function(){x=0}),x=t),e.abrupt("return",a);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var F=d.Components.SpeakActivity,I=Object(d.connectToWebChat)(function(e){return{activity:e.activities.slice().reverse().find(function(e){var t=e.from.role,n=e.type;return"bot"===t&&"message"===n})}})(function(e){var t=e.activity;return!!t&&c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,t.text),t.channelData&&t.channelData.speak&&c.a.createElement(F,{activity:t}))}),M=d.Components.Composer,z=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={directLine:null,webSpeechPonyfillFactory:null},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(u.a.mark(function e(){var t,n,a,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://webchat-mockbot.azurewebsites.net/directline/token",{method:"POST"});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,a=n.token,e.t0=d.createCognitiveServicesSpeechServicesPonyfillFactory,e.t1=A,e.next=11,N();case 11:return e.t2=e.sent,e.t3={authorizationToken:e.t1,region:e.t2},e.next=15,(0,e.t0)(e.t3);case 15:r=e.sent,this.setState(function(){return{directLine:Object(d.createDirectLine)({token:a}),webSpeechPonyfillFactory:r}});case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.directLine,n=e.webSpeechPonyfillFactory;return!!t&&!!n&&c.a.createElement(M,{directLine:t,webSpeechPonyfillFactory:n},c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement(S,{className:"App-speech-button"}),c.a.createElement(k,{className:"App-speech-interims"}),c.a.createElement(I,{className:"App-bot-activity"}))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},286:function(e,t){},287:function(e,t){},556:function(e,t){},558:function(e,t,n){e.exports=n(1465)},563:function(e,t,n){},565:function(e,t,n){},678:function(e,t){},680:function(e,t){},717:function(e,t){},718:function(e,t){}},[[558,1,2]]]);
//# sourceMappingURL=main.4850158d.chunk.js.map